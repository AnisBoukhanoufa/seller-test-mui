import{ao as f,ar as x,r as d,j as e,T as h,ap as u}from"./index-335be6bc.js";import{A as j,a as b,b as y}from"./auth-button-20129b72.js";import{u as S,F as w}from"./index.esm-6c063bf2.js";import{T as D}from"./logo-title-b7e3553f.js";import{r as F}from"./auth-calls-d335705c.js";import{a as P,b as E,c as T}from"./DialogContent-2da759e4.js";import{D as v}from"./DialogTitle-cffb5590.js";import{D as C}from"./DialogContentText-3425fa31.js";import"./Visibility-735ff206.js";import"./TextField-e3426f14.js";import"./useSlot-06d6b379.js";import"./FormControl-0c7a5a9b.js";import"./isMuiElement-28855bcf.js";import"./List-429b0059.js";import"./Grow-32d2c9c3.js";import"./Portal-29f66c29.js";import"./Paper-7bffdec0.js";import"./useControlled-35363894.js";import"./InputAdornment-345b342e.js";function A(){const{t:a}=f(),p=x(),i=S({mode:"onBlur"}),[l,n]=d.useState(!1),[s,o]=d.useState({isOpen:!1,title:"",message:"",isSuccess:!1}),m=()=>{o({...s,isOpen:!1}),s.isSuccess&&p("/sign-in")},g=async t=>{try{n(!0);const c={email:t.email.trim()};await F(c),o({isOpen:!0,title:"Password Reset Email Sent",message:"Please check your email inbox for instructions to reset your password. If you don't see it, check your spam folder.",isSuccess:!0}),i.reset()}catch{o({isOpen:!0,title:"Password Reset Email Failed",message:"There was an issue sending the password reset email. Please try again. If the problem persists, please contact our support team.",isSuccess:!1})}finally{n(!1)}};return e.jsxs(w,{...i,children:[e.jsxs(P,{open:s.isOpen,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(v,{id:"alert-dialog-title",children:a(s.title)}),e.jsx(E,{children:e.jsx(C,{id:"alert-dialog-description",children:a(s.message).split(`
`).map((t,r)=>e.jsx("div",{children:t},r))})}),e.jsx(T,{children:e.jsx(h,{onClick:m,color:"primary",autoFocus:!0,children:s.isSuccess?a("Go to Sign In"):a("Close")})})]}),e.jsxs("form",{className:"flex flex-col min-h-[466px] justify-between gap-8",onSubmit:i.handleSubmit(g),onKeyDown:t=>{t.key},children:[e.jsxs(u,{className:"pb-4",children:[e.jsx(j,{title:"recover password",subtitle:"please enter your email."}),e.jsx(u,{className:"flex flex-col gap-4 justify-between",children:e.jsx(D,{name:"email",label:"Email",rules:{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Enter a valid email address"}}})})]}),e.jsx(b,{disabled:l,text:l?"Sending...":"send"})]})]})}function X(){return e.jsx(y,{children:e.jsx(A,{})})}export{X as default};
