import{j as t,t as n,aT as h,a8 as p,bc as u,b as g,bd as x,be as f,f as y,aK as N}from"./index-335be6bc.js";import{h as S}from"./moment-fbc5633a.js";import{D as j}from"./DataGrid-b5ad00e6.js";import{S as w,u as v}from"./use-query-filter-82542176.js";import{u as b}from"./use-page-data-5e947c49.js";import"./Divider-88aee12a.js";import"./MenuItem-ae06aebb.js";import"./List-429b0059.js";import"./listItemTextClasses-c15af42f.js";import"./TextField-e3426f14.js";import"./useSlot-06d6b379.js";import"./FormControl-0c7a5a9b.js";import"./isMuiElement-28855bcf.js";import"./Grow-32d2c9c3.js";import"./Portal-29f66c29.js";import"./Paper-7bffdec0.js";import"./useControlled-35363894.js";import"./Autocomplete-7da48e1d.js";import"./Close-a8700400.js";import"./Popper-6a651f11.js";import"./ClickAwayListener-9b9a333f.js";import"./ListItemText-666b43be.js";import"./Checkbox-863386b3.js";import"./SwitchBase-6ca860c4.js";import"./InputAdornment-345b342e.js";import"./Tooltip-0185c911.js";import"./TableCell-077dec01.js";import"./FormControlLabel-c815a521.js";import"./getThemeProps-e55d9c99.js";import"./functions-6046b92c.js";import"./validator-9e88d0aa.js";import"./useDispatch-5616ae48.js";const A=[{field:"id",headerName:"ID",flex:1,minWidth:110,headerAlign:"center",align:"center",renderCell:e=>t.jsx("div",{className:"cellWithImg",children:e.row.id})},{field:"amount",headerName:"amount",flex:1,minWidth:90,headerAlign:"center",align:"left",renderCell:e=>t.jsxs("div",{className:`cellWithStatus ${e.row.withdraw}`,children:[e.row.withdraw," $"]})},{field:"type",headerName:"type",flex:1,minWidth:110,headerAlign:"center",align:"center",renderCell:e=>t.jsx("div",{className:`cellWithStatus ${e.row.withdraw}`,children:n(e.row.type)})},{field:"paymentMethod",headerName:"method",flex:1,minWidth:100,headerAlign:"center",align:"center"},{field:"createdAt",headerName:"Date",flex:1,minWidth:105,headerAlign:"center",align:"center",valueFormatter:e=>S(e==null?void 0:e.value).format("DD/MM/YYYY")},{field:"status",headerName:"status",flex:1,minWidth:110,headerAlign:"center",align:"center",type:"singleSelect",renderCell:e=>t.jsx("span",{className:`cellWithStatus ${n(e.row.currentStatus,{lng:"en"})}`,children:n(e.row.currentStatus)})}],C=[{field:"action",headerName:"Actions",flex:1,minWidth:90,headerAlign:"center",align:"center",renderCell:e=>t.jsx(h,{to:e.row._id,style:{textDecoration:"none"},children:t.jsx("span",{className:"detailsButton",children:n("details")})})}],W=({payments:e,paginationModel:r,setPaginationModel:i})=>{var m;const[l,o]=p(),s=((m=e==null?void 0:e.list)==null?void 0:m.map(a=>({...a,paymentMethod:n(a.paymentMethod),status:n(a.currentStatus)})))||[],d=[...A.map(a=>({...a,headerName:n(a.headerName)})).concat(C)];return t.jsx(j,{autoHeight:!0,rows:s,columns:d,initialState:{pagination:{paginationModel:{pageSize:10}}},getRowId:a=>a._id,pageSizeOptions:[10,25,50],checkboxSelection:!0,disableRowSelectionOnClick:!0,pagination:!0,rowCount:e.totalItems,paginationModel:r,paginationMode:"server",onPaginationModelChange:a=>{i(a),o(c=>({...Object.fromEntries(Array.from(c.entries())),...a}))}})},D=({queryFilter:e,setQueryFilter:r})=>t.jsx("div",{className:"datatableTitle",children:t.jsx(w,{queryFilter:e,setQueryFilter:r})});const M=async(e,r)=>{r(u());try{const i=await g.get(`/payment/pagination?${e}`);r(x(i.data))}catch(i){r(f()),y(i,r)}},le=()=>{const e=N(s=>s.payment.payments),{queryFilter:r,setQueryFilter:i}=v(),{paginationModel:l,setPaginationModel:o}=b(r,M);return t.jsx("div",{className:"listData",children:t.jsx("div",{className:"listContainer",children:t.jsx("div",{className:"listTable",children:t.jsxs("div",{className:"datatablePayment overflowPreventer",children:[t.jsx(D,{queryFilter:r,setQueryFilter:i}),t.jsx(W,{payments:e,paginationModel:l,setPaginationModel:o})]})})})})};export{le as default};
