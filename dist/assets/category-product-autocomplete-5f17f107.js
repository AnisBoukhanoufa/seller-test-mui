import{r as g,j as C,t as h}from"./index-335be6bc.js";import{c as m}from"./categories-55af903f.js";import{d as b}from"./functions-6046b92c.js";import{A as u,C as y}from"./Autocomplete-7da48e1d.js";import{T as x}from"./TextField-e3426f14.js";const k=()=>{const[d,n]=g.useState([]),[f,r]=g.useState(Object.keys(m)),[e,a]=g.useState(m),l=(c,t,i,o)=>{if(i==="clear")n([]),a(m);else if(i==="selectOption"){n(t);const s=b(e[o.option.value]);s==null||delete s.name_en,a(s)}else if(i==="removeOption"){const s=b(t.reduce((j,O)=>j[O.value],m));s==null||delete s.name_en,n(t),a(s)}},p=c=>Object.values(c).some(t=>t&&typeof t=="object"&&!Array.isArray(t)&&Object.keys(t).length>0);return g.useEffect(()=>{if(Object.keys(e).length===0){r([]);return}if(p(e)){const t=Object.entries(e).map(([i,o])=>({value:i,label:o!=null&&o.name_en?o==null?void 0:o.name_en:i}));r(t)}else r([])},[e]),{choosenCategories:d,setChoosenCategories:n,categoriesList:f,setCategoriesList:r,categoryDetails:e,setCategoryDetails:a,handleCategoriesChange:l}},D=({choosenCategories:d,categoriesList:n,handleCategoriesChange:f,label:r="tags"})=>C.jsx(u,{multiple:!0,id:"categories",options:n,value:d,disableCloseOnSelect:!0,filterSelectedOptions:!0,getOptionLabel:e=>h(e.label),loading:!1,onChange:f,renderTags:(e,a)=>e.map((l,p)=>{const c=a({index:p});return C.jsx(y,{label:l.label,onDelete:p===e.length-1?c.onDelete:void 0},l.label)}),renderInput:e=>C.jsx(x,{...e,label:r,placeholder:r})});export{D as C,k as u};
