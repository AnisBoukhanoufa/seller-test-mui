import{r as c,b as h,E as m,j as e,t as r,ah as x}from"./index-335be6bc.js";import{C as p}from"./index.esm-6c063bf2.js";import{P as j}from"./material-7bd1e795.js";import{T as o}from"./TextField-e3426f14.js";import{A as b}from"./Autocomplete-7da48e1d.js";const q=t=>{const[i,s]=c.useState([]),[d,n]=c.useState({_id:"",variations:{}});return c.useEffect(()=>{var l;t!=null&&t._id&&(s(t.products||[]),n(((l=t.products)==null?void 0:l[0])||{_id:"",variations:{}}))},[t]),{subProducts:i,choosenSubProduct:d,setChoosenSubProduct:n}},C=t=>{const[i,s]=c.useState([]),[d,n]=c.useState({_id:"",name:"",products:[]});return c.useEffect(()=>{(async()=>{let u="";if(t===m.seller?u="/product-seller/name-pagination?":t===m.affiliate&&(u="/product-affiliate/name-pagination"),u!=="")try{const a=await h.get(u);s(a.data.list)}catch(a){s([]),console.error("Error fetching products:",a)}})()},[t]),{products:i,choosenProduct:d,setChoosenProduct:n,setProducts:s}};const P=({formRegister:t,formErrors:i,formControl:s})=>{var d;return e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:r("client information")}),e.jsxs("div",{className:"formInput",children:[e.jsx(o,{...t("client.name",{required:"This field is required"}),fullWidth:!0,id:"name",label:r("name"),variant:"outlined"}),i.name&&e.jsx("p",{className:"errorValidation",children:"This field is required"})]}),e.jsxs("div",{className:"formInput",children:[e.jsx(p,{name:"client.phone",control:s,defaultValue:"971",rules:{required:"Phone number is required",pattern:{value:/^\+?\d{1,4}?\d{7,14}$/,message:"Invalid phone number format"}},render:({field:{ref:n,...l}})=>e.jsx(j,{...l,inputStyle:{width:"100%"},country:"ae",onlyCountries:["ae","sa","qa","kw","om","bh"],inputProps:{ref:n}})}),((d=i.client)==null?void 0:d.phone)&&e.jsx("p",{style:{color:"red"},children:i.client.phone.message})]}),e.jsxs("div",{className:"formInput",children:[e.jsx(p,{name:"client.country",control:s,defaultValue:"",render:({field:{onChange:n,value:l,ref:u}})=>e.jsx(b,{options:Object.values(x),getOptionLabel:a=>r(a),value:l,onChange:(a,f)=>n(f),renderInput:a=>e.jsx(o,{...a,label:r("country"),variant:"outlined",inputRef:u})})}),i.country&&e.jsx("p",{className:"errorValidation",children:"country is required"})]}),e.jsx("div",{className:"formInput",children:e.jsx(o,{...t("client.city"),fullWidth:!0,id:"city",label:r("city"),variant:"outlined"})}),e.jsx("div",{className:"formInput",children:e.jsx(o,{...t("client.district"),fullWidth:!0,id:"district",label:r("district"),variant:"outlined"})}),e.jsx("div",{className:"formInput",children:e.jsx(o,{...t("client.address"),fullWidth:!0,id:"address",label:r("address"),variant:"outlined"})}),e.jsx("div",{className:"formInput",children:e.jsx(o,{...t("client.location"),fullWidth:!0,id:"location",label:r("location"),variant:"outlined"})})]})};export{P as C,q as a,C as u};
