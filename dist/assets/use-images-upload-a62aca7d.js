import{ag as O,af as U,aa as B,r as p,ac as F,j as e,ad as H,ae as _,by as ee,c as ae,t as m,T as k,aU as se}from"./index-335be6bc.js";import{P as te}from"./Paper-7bffdec0.js";import{a as G,b as L,c as $}from"./DialogContent-2da759e4.js";import{D as J}from"./DialogTitle-cffb5590.js";import{T as z,I as M,S as A}from"./TextField-e3426f14.js";import{G as N}from"./Grid-dac6798f.js";import{a as W}from"./FormControl-0c7a5a9b.js";import{M as S}from"./MenuItem-ae06aebb.js";function oe(a){return O("MuiCard",a)}U("MuiCard",["root"]);const le=a=>{const{classes:s}=a;return _({root:["root"]},oe,s)},ne=B(te,{name:"MuiCard",slot:"Root",overridesResolver:(a,s)=>s.root})({overflow:"hidden"}),re=p.forwardRef(function(s,i){const o=F({props:s,name:"MuiCard"}),{className:t,raised:l=!1,...r}=o,c={...o,raised:l},h=le(c);return e.jsx(ne,{className:H(h.root,t),elevation:l?8:void 0,ref:i,ownerState:c,...r})}),Se=re;function ie(a){return O("MuiCardContent",a)}U("MuiCardContent",["root"]);const ce=a=>{const{classes:s}=a;return _({root:["root"]},ie,s)},de=B("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(a,s)=>s.root})({padding:16,"&:last-child":{paddingBottom:24}}),ue=p.forwardRef(function(s,i){const o=F({props:s,name:"MuiCardContent"}),{className:t,component:l="div",...r}=o,c={...o,component:l},h=ce(c);return e.jsx(de,{as:l,className:H(h.root,t),ownerState:c,ref:i,...r})}),ke=ue;const me=p.lazy(()=>ee(()=>import("./jodit-react-446315c5.js").then(a=>a.j),["assets/jodit-react-446315c5.js","assets/index-335be6bc.js","assets/index-6afea22d.css"])),ze=({data:a,setData:s})=>{const i=p.useRef(null),o={useSearch:!1,spellcheck:!1,toolbarAdaptive:!1,toolbarSticky:!1,showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1,askBeforePasteHTML:!1,askBeforePasteFromWord:!1,disablePlugins:"add-new-line",allowResizeY:!1,minHeight:250,minWidth:null,height:250,placeholder:"Write product description ...",buttons:["paragraph","bold","strikethrough","underline","italic","|","ul","ol","|","fontsize","|","align","undo","redo"],editorCssClass:"alic",controls:{fontsize:{list:["8","9","10","11","12","14","16","18","24","30","36","48","60","72","96","100"]},font:{command:"fontname",list:{"":"Default","'Open Sans',sans-serif":"Open Sans","Helvetica,sans-serif":"Helvetica","Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","'Times New Roman',Times,serif":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana"}}}};return e.jsx(p.Suspense,{fallback:e.jsx("div",{}),children:e.jsx(me,{ref:i,value:a.description,config:o,onBlur:t=>{s({...a,description:t})}})})},he=ae(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const Ce=(a,s,i)=>{const[o,t]=p.useState(""),[l,r]=p.useState(""),[c,h]=p.useState(!1),[g,x]=p.useState({}),v=(u,d,f)=>f[u]?{isValid:!1,errorDetail:"This detail name already exists."}:u?d?{isValid:!0}:{isValid:!1,errorValues:"Please enter values."}:{isValid:!1,errorDetail:"Please enter a detail name."},w=u=>{s(d=>({...d,...u})),i(d=>({...d,...u}))},C=u=>Array.from(new Set(u.split(",").filter(d=>d.trim()!=="").map(d=>d.trim()))),V=()=>{t(""),r(""),h(!1)};return{newVariationError:g,newDetail:o,newDetailValues:l,openDialog:c,handleAddNewDetail:()=>{x({});const u=v(o,l,a);if(!u.isValid){x(u);return}const d=C(l),f={[o]:d};w(f),V()},onCloseCustomVariationDialog:()=>{h(!1)},onDetailChange:u=>{t(u),x(d=>{const f={...d};return delete f.errorDetail,f})},onValuesChange:u=>{r(u),x(d=>{const f={...d};return delete f.errorValues,f})},setOpenDialog:h}},pe=({open:a,onClose:s,detailValue:i,valuesValue:o,onDetailChange:t,onValuesChange:l,detailError:r,valuesError:c,onSubmit:h})=>e.jsxs(G,{open:a,onClose:s,children:[e.jsx(J,{className:"dialog-title capitalize",children:e.jsx("span",{className:"capitalize",children:m("add new variation")})}),e.jsxs(L,{children:[e.jsx(z,{autoFocus:!0,margin:"dense",label:m("detail name"),fullWidth:!0,value:i,onChange:g=>{t(g.target.value)},error:!!r,helperText:r}),e.jsx(z,{margin:"dense",label:m("values (comma-separated)"),fullWidth:!0,value:o,onChange:g=>{l(g.target.value)},error:!!c,helperText:c})]}),e.jsxs($,{children:[e.jsx(k,{onClick:s,color:"secondary",children:e.jsx("span",{className:"capitalize",children:m("cancel")})}),e.jsx(k,{onClick:h,color:"primary",children:e.jsx("span",{className:"capitalize",children:m("add")})})]})]}),fe=({open:a,onClose:s,onConfirm:i,index:o,selectedColor:t,setSelectedColor:l})=>{const r=()=>{i(o),s()};return e.jsxs(G,{className:"capitalize",open:a,onClose:s,fullWidth:!0,maxWidth:"sm",children:[e.jsx(J,{className:"capitalize",children:e.jsx("span",{className:"capitalize",children:m("enter custom color")})}),e.jsx(L,{children:e.jsx(z,{label:m("value"),value:t,onChange:c=>l(c.target.value),variant:"outlined",fullWidth:!0,margin:"normal"})}),e.jsxs($,{children:[e.jsx(k,{onClick:s,color:"secondary",children:m("cancel")}),e.jsx(k,{onClick:r,variant:"contained",color:"primary",children:m("confirm")})]})]})},ge=(a,s,i,o)=>{const[t,l]=p.useState(!1),[r,c]=p.useState(""),h=()=>{l(!0)},g=()=>{l(!1)};return{colorPickerOpen:t,selectedColor:r,setSelectedColor:c,openColorPicker:h,closeColorPicker:g,handleConfirmColor:v=>{const w=a.map((C,V)=>V===v?{...C,value:r}:C);s(w),i(C=>({...C,color:[...C.color||[],r]})),o(C=>({...C,color:[...C.color||[],r]})),g()}}},be=({currentDetails:a,dropDownDetails:s,setDropDownDetails:i,setCurrentDetails:o,detailPair:t,index:l,subProducts:r,editVariations:c,setCustomVariations:h})=>{const g=(n,j)=>{const y=j.target.value;if(y==="other")u(!0);else{const D=[...a];D[n].detail=y,D[n].value="",o(D)}},x=(n,j)=>{const y=j.target.value;if(y==="custom")Y(j);else{const D=[...a];D[n].value=y,o(D)}},{newVariationError:v,newDetail:w,newDetailValues:C,openDialog:V,handleAddNewDetail:b,onCloseCustomVariationDialog:E,onDetailChange:T,onValuesChange:R,setOpenDialog:u}=Ce(s,h,i),{colorPickerOpen:d,selectedColor:f,setSelectedColor:X,openColorPicker:Y,closeColorPicker:q,handleConfirmColor:K}=ge(a,o,i,h),Q=n=>{const j=[...a];j.splice(n,1),o(j)},I=Array.isArray(s[t==null?void 0:t.detail])?s[t.detail]:Object.keys(s[t==null?void 0:t.detail]??[]),Z=a.map(n=>n.detail),P=()=>Object.keys(s).filter(n=>n===t.detail||!Z.includes(n));return e.jsxs(e.Fragment,{children:[e.jsxs(N,{container:!0,spacing:2,style:{marginBottom:16},children:[e.jsx(N,{item:!0,xs:5,style:{position:"relative"},children:e.jsxs(W,{fullWidth:!0,size:"small",children:[e.jsx(M,{children:m("detail")}),e.jsxs(A,{value:t.detail||"",onChange:n=>g(l,n),variant:"outlined",label:m("detail"),disabled:!c&&(r==null?void 0:r.length)>0,children:[P().map(n=>e.jsx(S,{className:"capitalize",value:n,children:m(n)},n)),e.jsx(S,{value:"other",className:"capitalize",children:m("other")})]})]})}),e.jsx(N,{item:!0,xs:5,children:e.jsxs(W,{fullWidth:!0,size:"small",children:[e.jsx(M,{children:m("value")}),e.jsx(A,{value:t.value||"",onChange:n=>x(l,n),variant:"outlined",label:"Value",disabled:!t.detail,className:"input-button",children:I?[...I.map(n=>e.jsxs(S,{value:n,sx:{backgroundColor:"#E8E8E8"},className:"color",children:[t.detail==="color"&&e.jsx("div",{style:{backgroundColor:n,width:20,height:20,borderRadius:50,marginRight:10},className:"single-color"}),n]},n)),t.detail==="color"&&e.jsx(S,{sx:{backgroundColor:"#E8E8E8"},value:"custom",children:m("custom")},"custom")]:[]})]})}),e.jsx(N,{item:!0,xs:2,style:{display:"flex",alignItems:"center"},children:e.jsx(se,{size:"small",onClick:()=>Q(l),color:"danger",disabled:(r==null?void 0:r.length)>0&&!c,children:e.jsx(he,{fontSize:"small"})})})]},l),e.jsx(pe,{open:V,onClose:E,detailValue:w,valuesValue:C,onDetailChange:T,onValuesChange:R,detailError:v.errorDetail,valuesError:v.errorValues,onSubmit:b}),e.jsx(fe,{open:d,onClose:q,onConfirm:K,index:l,selectedColor:f,setSelectedColor:X})]})},Ee=()=>{const[a,s]=p.useState([]);return{images:a,setImages:s,handleDelete:o=>{const t=a.filter(l=>l!==o);s(t)}}};export{Se as C,be as D,ze as T,ke as a,he as b,Ee as u};
