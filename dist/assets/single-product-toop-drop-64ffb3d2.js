import{j as s,u as k,r as t,t as l,b as p}from"./index-335be6bc.js";import{h as C}from"./moment-fbc5633a.js";import{k as K,e as _,q as f,a as w,b as S,o as D}from"./bahrain-57f02bd3.js";import{I as A}from"./image-gallery-v1-be18afe0.js";import{S as E}from"./Snackbar-abf2ba22.js";import{A as R}from"./Alert-67637005.js";import"./useSlot-06d6b379.js";import"./ClickAwayListener-9b9a333f.js";import"./Grow-32d2c9c3.js";import"./Paper-7bffdec0.js";import"./Close-a8700400.js";var T={70:K,71:_,72:f,73:w,74:S,75:D};const Y=({toopDropPrice:r})=>s.jsx("div",{className:"prices-list",children:(r==null?void 0:r.length)>0&&r.map((n,a)=>s.jsxs("div",{className:"price-card",children:[s.jsx("img",{src:T[n.country],className:"price-country",alt:""}),s.jsx("div",{className:"price-details",children:s.jsx("span",{className:"dollar ",children:((n==null?void 0:n.price)||0).toFixed(2)})})]},a))}),J=()=>{var h,j;const n=k().pathname.split("/")[2],[a,v]=t.useState({}),[i,m]=t.useState({_id:""});t.useEffect(()=>{(async()=>{const c=await p.get(`/product-affiliate/single/${n}`);v(c.data._doc)})()},[]),t.useEffect(()=>{a!=null&&a._id&&m(a==null?void 0:a.products[0])},[a==null?void 0:a._id]);const N=e=>{m(e)};t.useState(""),t.useState([]);const[d,o]=t.useState(null),x=()=>o(null);return s.jsxs("div",{className:"singleToopDrop",children:[s.jsx("div",{className:"singleContainer overflowPreventerFlexbox",children:s.jsx("div",{className:"overflowPreventerContainer",children:s.jsx("div",{className:"overflowPreventer",children:s.jsxs("div",{className:"top",children:[s.jsxs("div",{className:"left",children:[s.jsx("div",{className:"header",children:s.jsxs("div",{className:"id-title",children:[a==null?void 0:a.id,s.jsx("span",{className:"date",children:s.jsx("div",{className:"date",children:s.jsx("span",{className:"valueKey",children:C(a==null?void 0:a.createdAt).format("DD/MM/YYYY hh:mm A")})})})]})}),s.jsx(A,{images:i==null?void 0:i.images}),s.jsxs("div",{className:"details",children:[s.jsx("div",{className:"title",children:s.jsxs("div",{className:"name",children:[a.name," "]})}),s.jsx("div",{className:"status",children:s.jsx("span",{className:`valueKey cellWithStatus ${l(i==null?void 0:i.currentStatus,{lng:"en"})}`,children:l(i==null?void 0:i.currentStatus)})})]}),s.jsxs("div",{className:"detailItem",children:[s.jsxs("span",{className:"itemKey",children:[l("id")," :"]}),s.jsx("span",{className:"valueKey valueKeyId",children:i==null?void 0:i.id})]}),Object.values(((h=a==null?void 0:a.products)==null?void 0:h[0].variations)||[]).length>0&&s.jsxs("div",{className:"variations-section",children:[s.jsx("div",{className:"itemKey capitalize",children:l("variations")}),s.jsx("div",{className:"variations",children:a==null?void 0:a.products.map((e,c)=>s.jsx("button",{className:e._id===i._id?"active variations-bullet":"variations-bullet",onClick:()=>N(e),children:(e==null?void 0:e.variations)&&s.jsxs(s.Fragment,{children:[(e==null?void 0:e.variations.color)&&s.jsx("span",{style:{display:"inline-block",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e==null?void 0:e.variations.color,marginRight:"8px"}}),Object.entries(e==null?void 0:e.variations).map(([q,g],y)=>s.jsxs("span",{children:[g," "]},y))]})},c))})]}),s.jsxs("div",{className:"offers-section",children:[s.jsx("div",{className:"title-countries",children:s.jsx("div",{className:"itemKey capitalize",children:l("prices")})}),s.jsx(Y,{toopDropPrice:i==null?void 0:i.toopDropPrice})]})]}),s.jsx("div",{className:"right",children:s.jsxs("div",{className:"item",children:[s.jsxs("div",{className:"category",children:[s.jsxs("span",{className:"itemKey ",children:[l("categories"),": "]}),s.jsx("span",{className:"bullets",children:(j=a==null?void 0:a.category)==null?void 0:j.map((e,c)=>s.jsx("span",{className:"tags-bullets",children:l(e)}))})]}),s.jsxs("div",{className:"detailItem description",children:[s.jsxs("span",{className:"itemKey",children:[l("product description")," :"]}),s.jsx("div",{className:"description-container",style:{color:"black"},dangerouslySetInnerHTML:{__html:a==null?void 0:a.description}})]})]})})]})})})}),!!d&&s.jsx(E,{open:!0,onClose:x,autoHideDuration:3e3,children:s.jsx(R,{...d,onClose:x})})]})};export{J as default};
