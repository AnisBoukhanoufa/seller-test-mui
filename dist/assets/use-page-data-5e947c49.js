import{a8 as u,r as t}from"./index-335be6bc.js";import{g as n,q as m}from"./functions-6046b92c.js";import{i as c}from"./validator-9e88d0aa.js";import{u as S}from"./useDispatch-5616ae48.js";const P=(p,s)=>{const i=S(),[e,r]=u(),[f,o]=t.useState(n(e.get("pageSize"),e.get("page"))),g=t.useRef(!0);return t.useEffect(()=>{g.current?g.current=!1:o(a=>({pageSize:a.pageSize,page:0}))},[JSON.stringify(p)]),t.useEffect(()=>{c(e.get("pageSize"),e.get("page"))||r(a=>({...Object.fromEntries(Array.from(a.entries())),...n(e.get("pageSize"),e.get("page"))}),{replace:!0})},[e,r]),t.useEffect(()=>{(async()=>{try{c(e.get("pageSize"),e.get("page"))&&await s(m(Object.fromEntries(e.entries())),i)}catch{throw new Error("error fetching data")}})()},[e,i,r,s]),{paginationModel:f,setPaginationModel:o}};export{P as u};
