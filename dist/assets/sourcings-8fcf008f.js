import{j as e,t as o,aT as c,a8 as u,r as h,aK as p}from"./index-335be6bc.js";import{g}from"./sourcing-calls-1548c967.js";import{h as x}from"./moment-fbc5633a.js";import{D as C}from"./DataGrid-b5ad00e6.js";import{S as f,u as j}from"./use-query-filter-82542176.js";import{M as S}from"./TextField-e3426f14.js";import{M as d}from"./MenuItem-ae06aebb.js";import{u as w}from"./use-page-data-5e947c49.js";import"./Divider-88aee12a.js";import"./Autocomplete-7da48e1d.js";import"./Close-a8700400.js";import"./useSlot-06d6b379.js";import"./Popper-6a651f11.js";import"./Grow-32d2c9c3.js";import"./Portal-29f66c29.js";import"./Paper-7bffdec0.js";import"./useControlled-35363894.js";import"./ClickAwayListener-9b9a333f.js";import"./List-429b0059.js";import"./ListItemText-666b43be.js";import"./listItemTextClasses-c15af42f.js";import"./Checkbox-863386b3.js";import"./SwitchBase-6ca860c4.js";import"./FormControl-0c7a5a9b.js";import"./isMuiElement-28855bcf.js";import"./InputAdornment-345b342e.js";import"./Tooltip-0185c911.js";import"./TableCell-077dec01.js";import"./FormControlLabel-c815a521.js";import"./getThemeProps-e55d9c99.js";import"./functions-6046b92c.js";import"./validator-9e88d0aa.js";import"./useDispatch-5616ae48.js";const v=[{field:"id",headerName:"id",flex:1,minWidth:110,headerAlign:"center",align:"center"},{field:"createdAt",headerName:"created at",flex:1,minWidth:160,headerAlign:"center",align:"center",valueFormatter:r=>x(r==null?void 0:r.value).format("DD/MM/YYYY HH:mm")},{field:"destinationCountry",headerName:"country",flex:1,minWidth:100,headerAlign:"center",align:"center",renderCell:r=>e.jsx("span",{children:o(r.row.destinationCountry)})},{field:"currentStatus",headerName:"Status",flex:1,minWidth:140,headerAlign:"center",align:"center",type:"singleSelect",renderCell:r=>e.jsx("span",{className:`cellWithStatus ${o(r.row.currentStatus,{lng:"en"})}`,children:o(r.row.currentStatus)})}],N=[{field:"action",headerName:"Actions",flex:1,minWidth:120,headerAlign:"center",align:"center",renderCell:r=>e.jsx(c,{to:r.row._id,style:{textDecoration:"none"},children:e.jsx("span",{className:"detailsButton",children:o("details")})})}],y=({sourcings:r,paginationModel:t,setPaginationModel:a})=>{const[l,n]=u(),s=v.map(i=>({...i,headerName:o(i.headerName)})).concat(N);return e.jsx(C,{autoHeight:!0,sx:{root:{"& .MuiDataGrid-columnsContainer":{direction:"ltr"},"& .MuiDataGrid-virtualScroller":{direction:"ltr"}}},rows:r.list,columns:s,getRowId:i=>i._id,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10,25,50],checkboxSelection:!0,disableRowSelectionOnClick:!0,rowCount:r.totalItems,pagination:!0,paginationModel:t,paginationMode:"server",onPaginationModelChange:i=>{a(i),n(m=>({...Object.fromEntries(Array.from(m.entries())),...i}))}})},b=()=>{const[r,t]=h.useState(null),a=!!r,l=s=>{t(s.currentTarget)},n=()=>{t(null)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"secondary-button",onClick:l,children:o("new")}),e.jsxs(S,{className:"new-list",anchorEl:r,open:a,onClose:()=>n(),children:[e.jsx(d,{sx:{borderColor:"var(--color-secondary)",backgroundColor:"white",borderBottom:"1px solid #E6E6E6",color:"var(--color-secondary)","&:hover":{backgroundColor:"var(--color-secondary)",color:"white"}},onClick:()=>n(),children:e.jsx(c,{to:"/sourcings/new?withCod=true",className:"link",children:o("sourcing with cod toop")})}),e.jsx(d,{sx:{borderColor:"var(--color-secondary)",backgroundColor:"white",color:"var(--color-secondary)","&:hover":{backgroundColor:"var(--color-secondary)",color:"white"}},onClick:()=>n(),children:e.jsx(c,{to:"/sourcings/new?withCod=false",className:"link",children:o("self-sourcing")})})]})]})},k=({queryFilter:r,setQueryFilter:t})=>e.jsxs("div",{className:"datatableTitle",children:[e.jsx(f,{queryFilter:r,setQueryFilter:t}),e.jsx(b,{})]});const ae=()=>{const r=p(s=>s.sourcing.sourcings)||{list:[]},{queryFilter:t,setQueryFilter:a}=j(),{paginationModel:l,setPaginationModel:n}=w(t,g);return e.jsx("div",{className:"listData",children:e.jsx("div",{className:"listContainer",children:e.jsx("div",{className:"listTable",children:e.jsxs("div",{className:"datatableSourcing overflowPreventer",children:[e.jsx(k,{queryFilter:t,setQueryFilter:a}),e.jsx(y,{sourcings:r,paginationModel:l,setPaginationModel:n})]})})})})};export{ae as default};
