import{b5 as g,b6 as C,b7 as j,r as y,j as p,b8 as S,b9 as O,ba as T}from"./index-335be6bc.js";function A(c){let{swiper:e,extendParams:w,on:u}=c;w({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let o=!1,d=!1;e.thumbs={swiper:null};function v(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const s=t.clickedIndex,r=t.clickedSlide;if(r&&r.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof s>"u"||s===null)return;let a;t.params.loop?a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10):a=s,e.params.loop?e.slideToLoop(a):e.slideTo(a)}function f(){const{thumbs:t}=e.params;if(o)return!1;o=!0;const s=e.constructor;if(t.swiper instanceof s)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(C(t.swiper)){const r=Object.assign({},t.swiper);Object.assign(r,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new s(r),d=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",v),!0}function b(t){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const r=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():s.params.slidesPerView;let a=1;const n=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(a=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(a=1),a=Math.floor(a),s.slides.forEach(i=>i.classList.remove(n)),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let i=0;i<a;i+=1)j(s.slidesEl,`[data-swiper-slide-index="${e.realIndex+i}"]`).forEach(l=>{l.classList.add(n)});else for(let i=0;i<a;i+=1)s.slides[e.realIndex+i]&&s.slides[e.realIndex+i].classList.add(n);const m=e.params.thumbs.autoScrollOffset,h=m&&!s.params.loop;if(e.realIndex!==s.realIndex||h){const i=s.activeIndex;let l,x;if(s.params.loop){const I=s.slides.find(P=>P.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);l=s.slides.indexOf(I),x=e.activeIndex>e.previousIndex?"next":"prev"}else l=e.realIndex,x=l>e.previousIndex?"next":"prev";h&&(l+=x==="next"?m:-1*m),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(l)<0&&(s.params.centeredSlides?l>i?l=l-Math.floor(r/2)+1:l=l+Math.floor(r/2)-1:l>i&&s.params.slidesPerGroup,s.slideTo(l,t?0:void 0))}}u("beforeInit",()=>{const{thumbs:t}=e.params;if(!(!t||!t.swiper))if(typeof t.swiper=="string"||t.swiper instanceof HTMLElement){const s=g(),r=()=>{const n=typeof t.swiper=="string"?s.querySelector(t.swiper):t.swiper;if(n&&n.swiper)t.swiper=n.swiper,f(),b(!0);else if(n){const m=`${e.params.eventsPrefix}init`,h=i=>{t.swiper=i.detail[0],n.removeEventListener(m,h),f(),b(!0),t.swiper.update(),e.update()};n.addEventListener(m,h)}return n},a=()=>{if(e.destroyed)return;r()||requestAnimationFrame(a)};requestAnimationFrame(a)}else f(),b(!0)}),u("slideChange update resize observerUpdate",()=>{b()}),u("setTransition",(t,s)=>{const r=e.thumbs.swiper;!r||r.destroyed||r.setTransition(s)}),u("beforeDestroy",()=>{const t=e.thumbs.swiper;!t||t.destroyed||d&&t.destroy()}),Object.assign(e.thumbs,{init:f,update:b})}const k=({images:c})=>{const[e,w]=y.useState(null),u=(c==null?void 0:c.filter(o=>!(o!=null&&o.startsWith("NOT_FOUND"))))||[];return p.jsxs("div",{children:[p.jsx(S,{loop:!0,navigation:!0,modules:[O,A],thumbs:{swiper:e},className:"mainSwiper",children:u.map((o,d)=>p.jsx(T,{children:p.jsx("img",{src:o,alt:`Slide ${d+1}`})},d))}),p.jsx(S,{onSwiper:w,loop:!0,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,className:"thumbSwiper",children:u.map((o,d)=>p.jsx(T,{children:p.jsx("img",{src:o,alt:`Thumbnail ${d+1}`})},d))})]})};export{k as I};
